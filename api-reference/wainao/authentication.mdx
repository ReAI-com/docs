---
title: '认证与授权'
description: '外脑API的认证与授权机制说明'
---

# 认证与授权

外脑API使用OAuth 2.0协议进行认证和授权。支持以下授权方式：

## 授权码模式

适用于有用户交互的应用场景。

### 流程说明

1. 获取授权码
```http
GET /oauth/authorize
```

参数：
- `client_id`: 应用ID
- `redirect_uri`: 回调地址
- `response_type`: 固定为"code"
- `scope`: 权限范围

2. 使用授权码获取访问令牌
```http
POST /oauth/token
```

参数：
- `grant_type`: 固定为"authorization_code"
- `code`: 授权码
- `client_id`: 应用ID
- `client_secret`: 应用密钥
- `redirect_uri`: 回调地址

## 客户端凭证模式

适用于服务器间通信场景。

```http
POST /oauth/token
```

参数：
- `grant_type`: 固定为"client_credentials"
- `client_id`: 应用ID
- `client_secret`: 应用密钥
- `scope`: 权限范围

## 刷新令牌

当访问令牌过期时，使用刷新令牌获取新的访问令牌。

```http
POST /oauth/token
```

参数：
- `grant_type`: 固定为"refresh_token"
- `refresh_token`: 刷新令牌
- `client_id`: 应用ID
- `client_secret`: 应用密钥

## 使用访问令牌

所有API请求都需要在HTTP头部包含Bearer令牌：

```http
Authorization: Bearer <access_token>
```

## 错误码说明

| 错误码 | 说明 |
|--------|------|
| 400    | 请求参数错误 |
| 401    | 未授权或令牌无效 |
| 403    | 权限不足 |
| 500    | 服务器错误 |
